IN 10H
LXI B,01F4H ; DELB DELAY 0244(hex) = 500(dec) msec
MVI A,FEH ; ORIZW POIO LED THA ANAPSEI ARXIKA, ANAVEI TO LED 0

PRINT:
STA 3000H ; KANW STORE STH THESH MNHMHS TO LED POU ANAVEI
MOV D,A ; D EXEI PROHGOUMENH DIEUTHUNSH TOU LED

START:
CALL DELB ; 0.5s KATHUSTERHSH DELB
LDA 2000H ; LOAD STH DIEUTHUNSH EISODOU 2000H
ANI 03H ; ARXIKOPOIHSH
CPI 01H ; SYGKRISH A ME 01
JZ MOVE_LEFT ; EAN Z=1 TOTE JUMP STO MOVE_LEFT
RETURN:
CPI 00H ; SYGKRINEI TON KATAXWRHTH ME TO 00
JZ CYCLE_LEFT ; EAN Z=1 TOTE JUMP STO CYCLE_LEFT 
MVI A,FEH ; ANAVEI TO LED 0
STA 3000H ; APOTHHKEUSH TOY ANAMENOU LED STHN THESH 3000H
JMP START

CYCLE_LEFT:
MOV A,D ; A EXEI PROHGOUMENH THESH TOU LED 
RLC
JMP PRINT

MOVE_LEFT:
MOV A,D ; A EXEI PROHGOUMENH THESH TOU LED
LXI B,01F4H ; OI KATAXWRHTES BC EXOUN THN TIMH 500 GIA TO DELB DELAY
MVI A,FEH ; ARXIKH DIEUTHUNSH TOU LED

MOVE_RIGHT:
MOV A,D 
CPI FEH ; ELEGXEI EAN TO LED EINAI STH THESH TOU LSB
JZ MOVE_LEFT
RRC
STA 3000H
MOV D,A 
CALL DELB 
LDA 2000H
ANI 03H 
CPI 01H
JZ MOVE_RIGHT
JMP RETURN
END